from math import sqrt


class Solution:
    def rotate(self, A):
        s = int(sqrt(len(A)))
        n = len(A)
        for i in range(s):
            for j in range(i, n - i - 1):
                A[j][-1 - i], A[-1 - i][-1 - j], A[-1 - j][i], A[i][j] = A[i][j], A[j][-1 - i], A[-1 - i][-1 - j], \
                A[-1 - j][i]

        return A

A = [
    [1, 2],
    [3, 4]
]
# A = [
#     [1, 2, 3],
#     [4, 5, 6],
#     [7, 8, 9],
# ]
# A = [[1]]
A = [
  [27, 35, 36, 47, 94, 133, 163, 164, 235, 253, 280, 310, 339, 352],
  [46, 72, 77, 95, 144, 149, 158, 174, 242, 243, 317, 371, 378, 386],
  [13, 14, 80, 83, 121, 157, 158, 163, 215, 220, 308, 325, 388, 397],
  [11, 38, 45, 84, 105, 132, 134, 145, 184, 219, 282, 298, 380, 381],
  [23, 27, 42, 118, 120, 139, 168, 225, 243, 271, 274, 349, 393, 395],
  [22, 27, 49, 85, 103, 167, 175, 234, 241, 258, 283, 296, 352, 385],
  [24, 78, 117, 119, 137, 147, 173, 189, 193, 216, 281, 304, 332, 358],
  [27, 71, 108, 109, 112, 133, 137, 145, 150, 171, 195, 225, 260, 336],
  [5, 56, 65, 114, 123, 200, 220, 222, 248, 264, 285, 317, 350, 367],
  [2, 20, 60, 72, 75, 130, 136, 149, 189, 254, 264, 295, 315, 349],
  [23, 35, 68, 77, 104, 129, 153, 165, 248, 253, 290, 316, 321, 394],
  [34, 127, 129, 154, 186, 202, 203, 210, 235, 269, 331, 344, 376, 387],
  [11, 98, 99, 118, 119, 183, 250, 252, 277, 280, 291, 307, 360, 368],
  [42, 74, 93, 119, 178, 186, 198, 221, 234, 295, 296, 319, 322, 335]
]
test = Solution()
test.rotate(A)
print(10)
# [42 11 34 23 2 5 27 24 22 23 11 13 46 27 ]
# [74 98 127 35 20 56 71 78 27 27 38 14 72 35 ]
# [93 99 129 68 60 65 108 117 49 42 45 80 77 36 ]
# [119 118 154 84 105 132 134 145 184 219 282 83 95 47 ]
# [178 119 186 118 120 139 168 225 243 271 274 121 144 94 ]
# [186 183 202 85 103 167 175 234 241 258 283 157 149 133 ]
# [198 250 203 119 137 147 173 189 193 216 281 158 158 163 ]
# [221 252 210 109 112 133 137 145 150 171 195 163 174 164 ]
# [234 277 235 114 123 200 220 222 248 264 285 215 242 235 ]
# [295 280 269 72 75 130 136 149 189 254 264 220 243 253 ]
# [296 291 331 77 104 129 153 165 248 253 290 308 317 280 ]
# [319 307 344 316 295 317 225 304 296 349 298 325 371 310 ]
# [322 360 376 321 315 350 260 332 352 393 380 388 378 339 ]
# [335 368 387 394 349 367 336 358 385 395 381 397 386 352 ]
