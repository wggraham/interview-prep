from collections import deque


class Solution:
    def jump(self, A):
        n = len(A)
        seen = set()
        q = deque([(0, 0)])
        while q:
            i, jump = q.popleft()

            if i >= n:
                continue
            if i == n - 1:
                return jump
            for j in reversed(range(i + 1, i + A[i] + 1)):
                if j in seen:
                    continue

                seen.add(j)
                q.append((j, jump + 1))

        return -1

    def jump2(self, A):
        n = len(A)
        seen = set()
        s = [(0, 0)]
        while s:
            i, jump = s.pop()

            if i >= n:
                continue
            if i == n - 1:
                return jump
            for j in range(i + 1, i + A[i] + 1):
                if j in seen:
                    continue

                seen.add(j)
                s.append((j, jump + 1))

        return -1

    def jump3(self, A):
        cur_reach, next_reach, jumps = 0, A[0], 0
        for i, val in enumerate(A):
            if i > cur_reach:
                if i > next_reach: return -1
                jumps += 1
                cur_reach = next_reach
                next_reach = A[i] + i
            next_reach = max(next_reach, A[i] + i)

        return jumps



A = [2, 3, 1, 1, 4]
A = [1700, 41595, 25808, 46388, 30524, 49269, 0, 21901, 17593, 2896, 0, 0, 0, 34823, 19869, 46877, 42782, 9841, 0, 39785, 4286, 1652, 48572, 0, 0, 0, 16889, 10962, 42205, 38937, 0, 0, 0, 0, 18489, 44027, 30255, 38791, 25352, 3238, 9195, 46222, 19389, 0, 870, 10974, 0, 29905, 2641, 16513, 154, 37681, 0, 0, 20514, 42814, 0, 42631, 39468, 9568, 41309, 47381, 9966, 40106, 10496, 19921, 21100, 0, 8796, 0, 12888, 12406, 20923, 24315, 39144, 19177, 1559, 48472, 40600, 24277, 0, 40262, 26525, 26358, 45910, 339, 0, 22886, 48083, 27067, 23684, 0, 4557, 0, 49946, 44667, 0, 37430, 0, 0, 24004, 16951, 36249, 20956, 2534, 47869, 0, 19724, 32781, 13203, 0, 0, 24314, 0, 42582, 42774, 46807, 27810, 29258, 0, 0, 17392, 14513, 22831, 0, 21379, 9998, 11915, 12789, 28904, 27033, 30648, 24675, 12959, 0, 49656, 42469, 26139, 26527, 11929, 0, 33187, 14564, 34591, 29885, 29712, 6061, 0, 13709, 0, 11921, 16917, 27622, 0, 22923, 0, 33994, 0, 5579, 46067, 32616, 48028, 33703, 0, 47349, 11756, 29384, 30070, 22459, 10876, 0, 36612, 36763, 0, 24070, 43632, 9946, 20090, 11520, 0, 48086, 0, 28051, 18233, 0, 47201, 0, 26090, 0, 12169, 36605, 32906, 44706, 36133, 0, 33038, 11034, 22137, 0, 32543, 15884, 0, 35085, 0, 10956, 17635, 41806, 20321, 26924, 23521, 28553, 40203, 37457, 0, 2970, 32023, 0, 23714, 26893, 44349, 9512, 44948, 192, 6227, 29587, 0, 0, 11641, 46131, 43021, 31901, 0, 8739, 16513, 12430, 30183, 24299, 8715, 0, 29072, 20138, 0, 0, 11808, 28356, 29881, 40250, 29918, 22004, 38015, 0, 16108, 0, 37830, 10885, 4691, 5372, 0, 0, 11297, 6708, 33295, 13725, 32346, 14533, 0, 41694, 0, 0, 20266, 16678, 16628, 41098, 30533, 6049, 21832, 482, 23818, 43967, 2520, 48487, 44958, 24838, 38944, 33083, 20410, 6791, 0, 0, 14528, 44589, 0, 0, 0, 5123, 0, 0, 12895, 42732, 40528, 0, 0, 0, 0, 3836, 6389, 39311, 32003, 48510, 0, 0, 19737, 5383, 21492, 39293, 48988, 0, 6855, 39163, 22942, 0, 0, 0, 7203, 2149, 12891, 28352, 4476, 13534, 38477, 45747, 18500, 9227, 26466, 22545, 0, 15165, 6460, 47630, 42724, 19337, 37098, 15584, 43172, 5472, 38134, 33954, 0, 13407, 28690, 46540, 43181, 0, 28947, 34209, 4204, 22307, 29740, 0, 0, 5147, 22274, 45584, 46394, 37670, 49341, 8996, 35814, 2410, 0, 81, 3581, 24098, 27784, 0, 9069, 0, 26197, 7350, 41167, 24739, 1361, 508, 0, 0, 39869, 18383, 229, 5254, 21694, 24747, 0, 12559, 33823, 0, 0, 29870, 18087, 15005, 0, 40648, 0, 16561, 10847, 16604, 26422, 0, 44103, 12514, 31490, 2246, 25598, 21858, 3820, 0, 11689, 0, 36454, 32131, 2237, 39765, 8505, 0, 47462, 0, 43535, 3544, 14570, 0, 159, 15444, 22811, 11709, 45797, 0, 28489, 23874, 0, 36376, 6326, 28798, 19880, 0, 18969, 47737, 19467, 21144, 19002, 5362, 25673, 18582, 33993, 11098, 36891, 21147, 13830, 18213, 37399, 18264, 0, 19166, 39163, 8532, 0, 7967, 20825, 16941, 33024, 14209, 0, 24412, 0, 1856, 49433, 0, 0, 36327, 0, 22506, 12195, 25145, 35004, 37584, 15357, 0, 5651, 40276, 0, 0, 0, 28626, 0, 1633, 36440, 0, 0, 28684, 9974, 0, 29841, 26769, 5386, 39940, 0, 44888, 33197, 33956, 17844, 10818, 9985, 13175, 24243, 19136, 39681, 25347, 6012, 34548, 49477, 12439, 29425, 0, 26849, 36582, 39149, 42922, 5866, 7769, 0, 0, 0, 33344, 44905, 5703, 16285, 0, 0, 0, 0, 0, 8884, 18180, 36125, 37999, 32878, 7576, 18637, 28804, 1861, 0, 30013, 26167, 47620, 0, 19090, 0, 0, 0, 6100, 28296, 11602, 37402, 3528, 1836, 29040, 15568, 47530, 0, 19774, 31999, 40834, 14522, 39798, 36827, 46460, 38119, 43763, 9661, 753, 0, 1174, 40826, 40497, 20617, 7291, 3867, 4343, 0, 0, 0, 49198, 8485, 39686, 34879, 0, 3172, 34468, 32721, 24813, 0, 18230, 36784, 5443, 25097, 34541, 44811, 6281, 21279, 23377, 23392, 34884, 0, 21171, 0, 9516, 38974, 0, 34993, 0, 0, 6537, 18864, 6465, 0, 9245, 31914, 36240, 8452, 11914, 18167, 0, 19227, 9748, 37975, 34480, 4319, 44850, 46808, 0, 13023, 0, 2450, 33372, 13875, 0, 38990, 22937, 48269, 41523, 1118, 43147, 19667, 18985, 49918, 0, 39166, 6554, 8731, 17605, 20103, 33818, 24019, 45349, 35734, 41781, 10916, 35510, 6786, 7791, 0, 4945, 1769, 29389, 27953, 35234, 10437, 0, 17914, 0, 0, 41772, 49715, 11346, 7342, 0, 15720, 0, 31824, 0, 23016, 5725, 28446, 23035, 0, 31096, 10364, 18838, 43829, 0, 21307, 25248, 3766, 0, 33189, 18911, 15221, 36763, 16465, 34381, 43093, 0, 28666, 6371, 0, 31668, 27648, 27002, 0, 4055, 0, 0, 37666, 30553, 0, 18178, 0, 0, 22135, 0, 3096, 0, 33625, 23422, 48379, 21487, 43322, 5562, 49388, 0, 713, 0, 0, 48191, 37409, 19095, 8929, 0, 27549, 45354, 44183, 22791, 9751, 0, 0, 4189, 11700, 0, 0, 6946, 0, 29799, 23284, 8290, 0, 37233, 0, 0, 38669, 0, 39115, 9718, 43221, 21632, 36141, 0, 0, 42782, 0, 30856, 0, 0, 43789, 6115, 2922, 10449, 46580, 32290, 19785, 45444, 9772, 3382, 41487, 41122, 0, 13730, 41013, 19680, 28696, 24706, 47461, 43153, 15467, 46522, 23508, 739, 21457, 29076, 45533, 39881, 26457, 43348, 16456, 33529, 0, 0, 29532, 0, 0, 20921, 3169, 48648, 36337, 0, 12756, 0, 368, 28459, 0, 23780, 21415, 6187, 5166, 36354, 0, 37547, 23125, 7169, 8387, 48981, 0, 0, 19626, 20069, 14377, 21281, 11342, 11270, 32252, 0, 21666, 43343, 0, 31167, 27020, 27849, 0, 0, 47389, 22055, 44239, 34688, 9362, 23899, 19507, 40828, 4952, 18081, 48631, 0, 44048, 39381, 20870, 44046, 35617, 0, 0, 23037, 19552, 33432, 0, 15655, 0, 923, 19690, 16942, 0, 46308, 46164, 0, 33443, 26065, 10359, 0, 45927, 33897, 0, 0, 0, 43397, 13583, 9785, 0, 8621, 40924, 0, 8116, 39526, 8077, 5502, 48659, 43299, 0, 35118, 11720, 18719, 28919, 33532, 16244, 4616, 0, 0, 0, 41458, 34073, 22627, 17764, 45501, 6760, 27696, 49247, 0, 5646, 43210, 46842, 39972, 42882, 32124, 18022, 5017, 38651, 48887, 44936, 28790, 26057, 20865, 0, 42754, 38759, 3454, 0, 0, 47288, 33610, 678, 46532, 19365, 45309, 44488, 11505, 1150, 48566, 15796, 27766, 24445, 1057, 23578, 47349, 18886, 2878, 27574, 48579, 43224, 13386, 13272, 24465, 12892, 31256, 19971, 0, 44720, 42847, 19565, 832, 45759, 11632, 9522, 46114, 13815, 13432, 0, 38043, 6300, 43729, 48566, 32442, 36857, 19742, 0, 0, 27418, 44602, 12153, 12506, 1832, 10112, 8773, 36324, 8021, 43609, 0, 29228, 12066, 39643, 12765, 0, 48500, 46485, 34109, 2853, 43207, 28027, 38673, 48726, 4200, 43430, 0, 39753, 32474, 0, 19644, 9044, 40801, 3604, 0, 43359, 0, 45136, 29584, 0, 21693, 0, 8229, 0, 0, 46755, 33435, 37391, 0, 41810, 0, 5664, 26043, 45545, 0, 22089, 9725, 48694, 18302, 2136, 19819, 49491, 6031, 15620, 19368, 0, 0, 0, 31234, 0, 36144, 23905, 39122, 40877, 15993, 7793, 40719, 38943, 0, 44108, 0, 45932, 0, 12627, 32305, 24218, 19642, 49487, 12776, 43765, 38903, 31747, 0, 30151, 13926, 3671, 30996, 18034, 26978, 6905, 0, 0, 16708, 0, 44883, 22864, 22084, 0, 21203, 0, 48831, 33588, 1461, 0, 36187, 47242, 20686, 0, 40443, 29641, 12264, 49665, 40022, 32936, 22015, 31318, 9377, 28986, 7943, 44023, 21307, 43465, 0, 37145, 0, 0, 150, 28346, 16682, 0, 0, 23584, 12129, 0, 0, 9084, 15331, 4092, 0, 31664, 24992, 22670, 0, 0, 47499, 30150, 7795, 5793, 33993, 43735, 36669, 19988, 10423, 28403, 36772, 39756, 46373, 0, 44325, 49197, 0, 42359, 14840, 17635, 44883, 0, 22077, 38443, 46196, 12893, 42738, 0, 0, 37647, 14489, 42636, 0, 36196, 412, 11715, 35520, 0, 26001, 6086, 29282, 31955, 30263, 38886, 28927, 36353, 46956, 9762, 4584, 0, 0, 17462, 41410, 0, 0, 21711, 20352, 12774, 11901, 35566, 8189, 24304, 811, 18149, 17192, 43795, 13837, 17987, 18115, 30409, 28938, 0, 38443, 21935, 45224, 40040, 9045, 23787, 28700, 9800, 17065, 43601, 48698, 0, 1533, 35435, 46590, 5292, 6235, 0, 14934, 11644, 24544, 0, 3138, 0, 35191, 26692, 0, 29851, 1860, 45782, 1184, 14703, 23542, 0, 23573, 36594, 28960, 45817, 21127, 20062, 0, 17950, 28771, 17113, 0, 0, 16535, 22890, 0, 0, 0, 11193, 23755, 48697, 48828, 48383, 18499, 11180, 0, 0, 28448, 31442, 17264, 0, 12572, 0, 37909, 19054, 0, 0, 2437, 0, 9390, 38333, 18267, 10682, 0, 18987, 0, 10903, 15093, 22872, 35741, 0, 11377, 0, 45143, 45356, 11030, 34857, 23939, 12181, 0, 27053, 12308, 43373, 18594, 9947, 30567, 36777, 0, 0, 0, 2247, 16749, 0, 0, 46622, 0, 44255, 0, 20923, 27233, 23980, 0, 3085, 43242, 27412, 21831, 14084, 11913, 6894, 13778, 38743, 12652, 11282, 47472, 2651, 0, 0, 0, 0, 0, 48695, 0, 3387, 27181, 45531, 0, 9136, 29565, 42105, 14647, 47837, 42703, 34084, 621, 7880, 28646, 26012, 38733, 20519, 0, 4990, 26063, 48935, 2261, 0, 25093, 0, 46359, 35612, 47804, 47233, 30729, 21574, 5980, 30251, 11623, 4393, 555, 11107, 0, 22369, 6743, 17680, 42578, 47456, 38442, 0, 32230, 20878, 33214, 15711, 0, 34399, 2394, 13885, 49565, 42608, 33434, 19618, 10550, 5888, 14120, 43690, 4470, 22370, 7093, 27084, 0, 0, 0, 0, 29582, 7728, 39274, 38014, 0, 1633, 7118, 0, 26157, 723, 15685, 0, 43057, 4461, 22100, 11157, 40695, 6161, 0, 27355, 6568, 0, 41373, 30211, 41934, 12922, 9072, 9011, 0, 38181, 27008, 17603, 29822, 38752, 45318, 3594, 37726, 0, 12545, 30798, 24934, 16259, 0, 35518, 32521, 376, 30975, 0, 26208, 41731, 10491, 28693, 0, 45774, 0, 7017, 26900, 28899, 0, 42258, 39121, 12616, 28707, 9411, 47736, 43957, 0, 21564, 12107, 0, 44476, 0, 0, 0, 48581, 33062, 26296, 0, 0, 5907, 38733, 2794, 42623, 3730, 17078, 22774, 30316, 11946, 6547, 0, 12325, 5635, 22117, 34614, 12732, 43952, 0, 20387, 2439, 12373, 36055, 0, 0, 38801, 36121, 33202, 43511, 1248, 9035, 49318, 0, 20704, 41980, 10033, 4653, 0, 35642, 2918, 21146, 6707, 0, 12454, 13192, 39018, 23520, 42321, 7343, 37805, 1284, 38411, 5183, 27942, 0, 9087, 2602, 47454, 0, 24554, 23675, 0, 40672, 0, 10079, 49707, 5913, 0, 41712, 42737, 22608, 11839, 23064, 1344, 2593, 2576, 0, 29900, 0, 0, 17303, 33972, 19349, 0, 6223, 25710, 12291, 29938, 1732, 38426, 39690, 0, 8649, 33098, 26382, 9485, 0, 21572, 35181, 0, 42100, 49264, 28728, 0, 8349, 18849, 15529, 0, 0, 0, 35366, 0, 0, 40247, 0, 27656, 0, 36809, 0, 42914, 31772, 0, 3710, 2547, 4889, 26009, 41775, 14182, 2124, 43794, 24550, 23790, 10926, 9228, 23950, 28922, 0, 29800, 23260, 0, 38498, 17221, 14297, 4134, 37650, 19137, 21688, 37167, 0, 26485, 42161, 6493, 15710, 0, 13257, 0, 16592, 14039, 5022, 0, 0, 16827, 0, 10775, 37944, 25403, 5636, 0, 3029, 0, 0, 0, 29430, 5327, 0, 12208, 31447, 41763, 25500, 24780, 49491, 7781, 14589, 24124, 0, 42515, 22958, 28500, 48721, 34341, 43825, 39674, 6510, 28833, 27306, 26838, 26032, 21001, 4754, 31373, 36922, 42435, 13651, 0, 18830, 37853, 5351, 29804, 31418, 40928, 29727, 43518, 0, 0, 11006, 0, 2407, 37780, 1537, 47928, 42171, 0, 0, 41526, 24302, 0, 22332, 48862, 0, 6004, 37803, 26455, 14412, 24120, 5346, 30737, 0, 5171, 43336, 14924, 0, 20774, 24891, 10941, 26292, 33506, 39178, 0, 103, 26132, 1871, 21733, 0, 0, 0, 11125, 21630, 5581, 0, 33678, 0, 0, 16540, 34357, 25027, 37610, 26040, 0, 34943, 33395, 9578, 10580, 483, 45088, 34593, 28009, 0, 37637, 0, 0, 0, 20997, 24088, 10948, 41108, 38843, 29714, 24848, 0, 0, 36582, 44139, 16156, 28938, 13244, 14676, 7783, 22537, 0, 0, 10068, 0, 31912, 14001, 30227, 16787, 5330, 18114, 46694, 37076, 0, 6801, 0, 0, 0, 0, 12110, 16504, 48158, 44909, 29669, 3130, 44421, 20995, 38338, 37467, 48745, 2887, 12915, 0, 0, 15665, 27895, 41900, 7905, 2145, 21448, 0, 0, 0, 15921, 0, 6270, 0, 32992, 47380, 7010, 4020, 0, 1457, 0, 33, 21215, 46894, 0, 35274, 48988, 42697, 17198, 37318, 40112, 43520, 22187, 46128, 33695, 18378, 1269, 0, 21546, 0, 37851, 8990, 4771, 39633, 2621, 0, 17651, 0, 44262, 5942, 19276, 47736, 23290, 7079, 26622, 13386, 35978, 0, 36703, 34867, 0, 11687, 2349, 38499, 42375, 0, 7703, 32744, 0, 10341, 4219, 35631, 3340, 33906, 17547, 48005, 44328, 40039, 12686, 25794, 0, 15087, 28174, 26434, 19601, 24339, 33350, 17713, 28230, 9722, 25549, 10506, 24730, 18160, 39775, 0, 29559, 11160, 43554, 1427, 17433, 28480, 0, 0, 5129, 0, 41463, 37395, 8292, 25589, 4065, 12085, 0, 39829, 0, 23357, 0, 0, 0, 25894, 6562, 8937, 20745, 24104, 27094, 0, 26652, 47066, 19100, 0, 2570, 22605, 0, 7575, 20353, 0, 40950, 25877, 0, 16586, 0, 48580, 22950, 34670, 49928, 0, 19574, 431, 23518, 44838, 8036, 0, 1732, 0, 0, 21185, 30614, 0, 31263, 1730, 49892, 33984, 0, 34817, 3695, 21900, 39441, 19263, 44147, 48394, 4099, 2876, 35520, 0, 49565, 20094, 11233, 9748, 0, 4990, 41427, 0, 18683, 0, 811, 47455, 7686, 11785, 22312, 0, 40011, 28697, 44743, 20356, 11488, 0, 14552, 767, 0, 0, 39176, 0, 29472, 41004, 0]
A = [ 0, 46, 46, 0, 2, 47, 1, 24, 45, 0, 0, 24, 18, 29, 27, 11, 0, 0, 40, 12, 4, 0, 0, 0, 49, 42, 13, 5, 12, 45, 10, 0, 29, 11, 22, 15, 17, 41, 34, 23, 11, 35, 0, 18, 47, 0, 38, 37, 3, 37, 0, 43, 50, 0, 25, 12, 0, 38, 28, 37, 5, 4, 12, 23, 31, 9, 26, 19, 11, 21, 0, 0, 40, 18, 44, 0, 0, 0, 0, 30, 26, 37, 0, 26, 39, 10, 1, 0, 0, 3, 50, 46, 1, 38, 38, 7, 6, 38, 27, 7, 25, 30, 0, 0, 36, 37, 6, 39, 40, 32, 41, 12, 3, 44, 44, 39, 2, 26, 40, 36, 35, 21, 14, 41, 48, 50, 21, 0, 0, 23, 49, 21, 11, 27, 40, 47, 49 ]
test = Solution()
print(test.jump(A))
print(test.jump3(A))
